import{r as b,e as E,i as j}from"../chunks/DY95OYLr.js";import{t as m,a as d,c as A}from"../chunks/7oy5kL_v.js";import"../chunks/CJ-92Fyr.js";import{Y as M,g as $,D as B,a1 as u,n as h,a2 as c,Z as _,a0 as w,_ as T,a3 as f,$ as D}from"../chunks/f2QqVyyi.js";import{i as R}from"../chunks/CqpbHcWB.js";import{s as p,v as S}from"../chunks/XROIAN9N.js";import{d as I,e as U,s as z}from"../chunks/DcVmgjbv.js";import{g as H}from"../chunks/f_8v0zjf.js";import{i as O}from"../chunks/C61hQg2R.js";function x(a){var e=B(0);return function(){return arguments.length===1?(M(e,$(e)+1),arguments[0]):($(e),a())}}const C=async({fetch:a})=>(b.loadRoutes(a),{}),ge=Object.freeze(Object.defineProperty({__proto__:null,load:C},Symbol.toStringTag,{value:"Module"})),Z=""+new URL("../assets/editor.DalZawKm.jpg",import.meta.url).href;var G=m('<div class="relative route-thumb"><a href="./editor"><img alt="" class="route-thumb"> <div class="bg-base-100 border-base-300 text-base-content"><p class="absolute bottom-0 route-thumb-text bg-base-200 rounded-lg">Route Editor</p></div></a></div>');function K(a){var e=G(),t=u(e),r=u(t);p(r,"src",Z),h(2),c(t),c(e),d(a,e)}const Y=""+new URL("../assets/help.DHLTfmOE.jpg",import.meta.url).href;var P=x(()=>S),q=m('<div class="relative route-thumb"><a href="./viewer/help"><img alt="" class="route-thumb"> <p class="absolute bottom-0 route-thumb-text bg-base-200 rounded-lg">Editor Help</p></a></div>');function J(a,e){_(e,!1),R();var t=q(),r=u(t);r.__click=()=>{P(P().enabled=!0)};var i=u(r);p(i,"src",Y),h(2),c(r),c(t),d(a,t),w()}I(["click"]);async function N(a){const e=Q(!1,a);return new Promise((r,i)=>{e.onchange=l=>{var n;const o=V((n=l.target)==null?void 0:n.files);W(o).then(s=>r(s[0])).catch(s=>i(s))},e.oncancel=()=>{r(null)},e.onerror=(l,o,n,s,v)=>{i(v)},e.click()}).finally(()=>e.remove())}function Q(a,e){var r;const t=document.createElement("input");return t.hidden=!0,t.type="file",t.multiple=a,t.accept=((r=e==null?void 0:e.acceptedExtensions)==null?void 0:r.join(","))??"",t}function V(a){if(a==null)return[];const e=[];for(let t=0;t<a.length;t++)e.push(a[t]);return e}async function W(a){const e=[];for(const t of a){const r=new Promise((i,l)=>{const o=new FileReader;o.onload=n=>{var s;i({name:t.name,size:t.size,type:t.type,lastModified:t.lastModified,webkitRelativePath:t.webkitRelativePath,content:(s=n.target)==null?void 0:s.result})},o.onerror=()=>{l(o.error)},o.readAsText(t,"utf-8")});e.push(r)}return Promise.all(e)}const X=""+new URL("../assets/load.C9lUrbTM.jpg",import.meta.url).href;var k=x(()=>S),F=x(()=>b),ee=m('<div class="relative route-thumb"><a><img alt="" class="route-thumb"> <div class="bg-base-100 border-base-300 text-base-content"><p class="absolute bottom-0 route-thumb-text bg-base-200 rounded-lg">Load Route File</p></div></a></div>');function te(a,e){_(e,!1);async function t(){const o=await N({acceptedExtensions:["json"]});o&&(F(F().routeToLoad=o.content),k(k().enabled=!0),H("./viewer/local"))}R();var r=ee(),i=u(r),l=u(i);p(l,"src",X),h(2),c(i),c(r),U("click",i,t),d(a,r),w()}var ae=m('<div class="relative route-thumb"><a><img alt="" class="route-thumb"> <p class="absolute bottom-0 route-thumb-text bg-base-200 rounded-lg"> </p></a></div>');function re(a,e){_(e,!0);let t=b.getRouteByID(e.id);var r=A(),i=T(r);{var l=o=>{var n=ae(),s=u(n),v=u(s),g=f(v,2),y=u(g,!0);c(g),c(s),c(n),D(()=>{p(s,"href",`./viewer/${e.id??""}`),p(v,"src",t.image),z(y,t.name)}),d(o,n)};O(i,o=>{t&&o(l)})}d(a,r),w()}var oe=m('<h1 class="title-text">SpiraGPS</h1> <p class="version-text">(v2.0.0)</p>',1);function ie(a){var e=oe();h(2),d(a,e)}var L=x(()=>S),se=m('<!> <div class="landing-grid"><div class="grid grid-cols-3 gap-4"><!> <!> <!> <!></div></div>',1);function be(a,e){_(e,!1),L(L().enabled=!1),R();var t=se(),r=T(t);ie(r);var i=f(r,2),l=u(i),o=u(l);E(o,1,()=>b.routes,j,(g,y)=>{re(g,{get id(){return $(y).id}})});var n=f(o,2);te(n,{});var s=f(n,2);K(s);var v=f(s,2);J(v,{}),c(l),c(i),d(a,t),w()}export{be as component,ge as universal};

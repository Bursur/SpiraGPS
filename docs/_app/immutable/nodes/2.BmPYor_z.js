import{r as b,e as A,i as E}from"../chunks/4DnnzeVe.js";import{t as m,a as d,c as j}from"../chunks/CX5ooH0W.js";import"../chunks/B3iQa5AD.js";import{a3 as B,g as $,N as M,B as u,n as h,C as c,x as _,A as w,y as T,D as f,z}from"../chunks/Dzkymkdr.js";import{i as R}from"../chunks/DOLHwwjD.js";import{s as p,v as S}from"../chunks/CJ4BHUgs.js";import{d as D,e as I,s as U}from"../chunks/BcHX6PbQ.js";import{g as C}from"../chunks/DYAbquh7.js";import{i as H}from"../chunks/6ggFdY2M.js";function x(r){var e=M(0);return function(){return arguments.length===1?(B(e,$(e)+1),arguments[0]):($(e),r())}}const O=async()=>(b.loadRoutes(),{}),ge=Object.freeze(Object.defineProperty({__proto__:null,load:O},Symbol.toStringTag,{value:"Module"})),G=""+new URL("../assets/editor.DalZawKm.jpg",import.meta.url).href;var K=m('<div class="relative route-thumb"><a href="./editor"><img alt="" class="route-thumb"> <div class="bg-base-100 border-base-300 text-base-content"><p class="absolute bottom-0 route-thumb-text bg-base-200 rounded-lg">Route Editor</p></div></a></div>');function N(r){var e=K(),t=u(e),a=u(t);p(a,"src",G),h(2),c(t),c(e),d(r,e)}const Z=""+new URL("../assets/help.DHLTfmOE.jpg",import.meta.url).href;var P=x(()=>S),q=m('<div class="relative route-thumb"><a href="./viewer/help"><img alt="" class="route-thumb"> <p class="absolute bottom-0 route-thumb-text bg-base-200 rounded-lg">Editor Help</p></a></div>');function J(r,e){_(e,!1),R();var t=q(),a=u(t);a.__click=()=>{P(P().enabled=!0)};var i=u(a);p(i,"src",Z),h(2),c(a),c(t),d(r,t),w()}D(["click"]);async function Q(r){const e=V(!1,r);return new Promise((a,i)=>{e.onchange=l=>{var n;const o=W((n=l.target)==null?void 0:n.files);X(o).then(s=>a(s[0])).catch(s=>i(s))},e.oncancel=()=>{a(null)},e.onerror=(l,o,n,s,v)=>{i(v)},e.click()}).finally(()=>e.remove())}function V(r,e){var a;const t=document.createElement("input");return t.hidden=!0,t.type="file",t.multiple=r,t.accept=((a=e==null?void 0:e.acceptedExtensions)==null?void 0:a.join(","))??"",t}function W(r){if(r==null)return[];const e=[];for(let t=0;t<r.length;t++)e.push(r[t]);return e}async function X(r){const e=[];for(const t of r){const a=new Promise((i,l)=>{const o=new FileReader;o.onload=n=>{var s;i({name:t.name,size:t.size,type:t.type,lastModified:t.lastModified,webkitRelativePath:t.webkitRelativePath,content:(s=n.target)==null?void 0:s.result})},o.onerror=()=>{l(o.error)},o.readAsText(t,"utf-8")});e.push(a)}return Promise.all(e)}const Y=""+new URL("../assets/load.C9lUrbTM.jpg",import.meta.url).href;var k=x(()=>S),F=x(()=>b),ee=m('<div class="relative route-thumb"><a><img alt="" class="route-thumb"> <div class="bg-base-100 border-base-300 text-base-content"><p class="absolute bottom-0 route-thumb-text bg-base-200 rounded-lg">Load Route File</p></div></a></div>');function te(r,e){_(e,!1);async function t(){const o=await Q({acceptedExtensions:["json"]});o&&(F(F().routeToLoad=o.content),k(k().enabled=!0),C("./viewer/local"))}R();var a=ee(),i=u(a),l=u(i);p(l,"src",Y),h(2),c(i),c(a),I("click",i,t),d(r,a),w()}var re=m('<div class="relative route-thumb"><a><img alt="" class="route-thumb"> <p class="absolute bottom-0 route-thumb-text bg-base-200 rounded-lg"> </p></a></div>');function ae(r,e){_(e,!0);let t=b.getRouteByID(e.id);var a=j(),i=T(a);{var l=o=>{var n=re(),s=u(n),v=u(s),g=f(v,2),y=u(g,!0);c(g),c(s),c(n),z(()=>{p(s,"href",`./viewer/${e.id??""}`),p(v,"src",t.image),U(y,t.name)}),d(o,n)};H(i,o=>{t&&o(l)})}d(r,a),w()}var oe=m('<h1 class="title-text">SpiraGPS</h1> <p class="version-text">(v2.0.0)</p>',1);function ie(r){var e=oe();h(2),d(r,e)}var L=x(()=>S),se=m('<!> <div class="landing-grid"><div class="grid grid-cols-3 gap-4"><!> <!> <!> <!></div></div>',1);function be(r,e){_(e,!1),L(L().enabled=!1),R();var t=se(),a=T(t);ie(a);var i=f(a,2),l=u(i),o=u(l);A(o,1,()=>b.routes,E,(g,y)=>{ae(g,{get id(){return $(y).id}})});var n=f(o,2);te(n,{});var s=f(n,2);N(s);var v=f(s,2);J(v,{}),c(l),c(i),d(r,t),w()}export{be as component,ge as universal};

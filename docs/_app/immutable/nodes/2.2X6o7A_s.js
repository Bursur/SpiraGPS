import{r as b,e as E,i as j}from"../chunks/DY95OYLr.js";import{t as m,a as d,c as A}from"../chunks/7oy5kL_v.js";import"../chunks/CJ-92Fyr.js";import{Y as M,g as $,D as B,a1 as u,n as h,a2 as c,Z as _,a0 as w,_ as T,a3 as f,$ as D}from"../chunks/f2QqVyyi.js";import{i as R}from"../chunks/CqpbHcWB.js";import{s as p,v as S}from"../chunks/XROIAN9N.js";import{d as I,e as U,s as z}from"../chunks/DcVmgjbv.js";import{g as H}from"../chunks/CjX6FF-V.js";import{i as O}from"../chunks/C61hQg2R.js";function x(r){var e=B(0);return function(){return arguments.length===1?(M(e,$(e)+1),arguments[0]):($(e),r())}}const C=async({fetch:r})=>(b.loadRoutes(r),{}),ge=Object.freeze(Object.defineProperty({__proto__:null,load:C},Symbol.toStringTag,{value:"Module"})),Z=""+new URL("../assets/editor.DalZawKm.jpg",import.meta.url).href;var G=m('<div class="relative route-thumb"><a href="./editor"><img alt="" class="route-thumb"> <div class="bg-base-100 border-base-300 text-base-content"><p class="absolute bottom-0 route-thumb-text bg-base-200 rounded-lg">Route Editor</p></div></a></div>');function K(r){var e=G(),t=u(e),a=u(t);p(a,"src",Z),h(2),c(t),c(e),d(r,e)}const Y=""+new URL("../assets/help.DHLTfmOE.jpg",import.meta.url).href;var P=x(()=>S),q=m('<div class="relative route-thumb"><a href="./viewer/help"><img alt="" class="route-thumb"> <p class="absolute bottom-0 route-thumb-text bg-base-200 rounded-lg">Editor Help</p></a></div>');function J(r,e){_(e,!1),R();var t=q(),a=u(t);a.__click=()=>{P(P().enabled=!0)};var i=u(a);p(i,"src",Y),h(2),c(a),c(t),d(r,t),w()}I(["click"]);async function N(r){const e=Q(!1,r);return new Promise((a,i)=>{e.onchange=l=>{var n;const o=V((n=l.target)==null?void 0:n.files);W(o).then(s=>a(s[0])).catch(s=>i(s))},e.oncancel=()=>{a(null)},e.onerror=(l,o,n,s,v)=>{i(v)},e.click()}).finally(()=>e.remove())}function Q(r,e){var a;const t=document.createElement("input");return t.hidden=!0,t.type="file",t.multiple=r,t.accept=((a=e==null?void 0:e.acceptedExtensions)==null?void 0:a.join(","))??"",t}function V(r){if(r==null)return[];const e=[];for(let t=0;t<r.length;t++)e.push(r[t]);return e}async function W(r){const e=[];for(const t of r){const a=new Promise((i,l)=>{const o=new FileReader;o.onload=n=>{var s;i({name:t.name,size:t.size,type:t.type,lastModified:t.lastModified,webkitRelativePath:t.webkitRelativePath,content:(s=n.target)==null?void 0:s.result})},o.onerror=()=>{l(o.error)},o.readAsText(t,"utf-8")});e.push(a)}return Promise.all(e)}const X=""+new URL("../assets/load.C9lUrbTM.jpg",import.meta.url).href;var k=x(()=>S),F=x(()=>b),ee=m('<div class="relative route-thumb"><a><img alt="" class="route-thumb"> <div class="bg-base-100 border-base-300 text-base-content"><p class="absolute bottom-0 route-thumb-text bg-base-200 rounded-lg">Load Route File</p></div></a></div>');function te(r,e){_(e,!1);async function t(){const o=await N({acceptedExtensions:["json"]});o&&(F(F().routeToLoad=o.content),k(k().enabled=!0),H("./viewer/local"))}R();var a=ee(),i=u(a),l=u(i);p(l,"src",X),h(2),c(i),c(a),U("click",i,t),d(r,a),w()}var re=m('<div class="relative route-thumb"><a><img alt="" class="route-thumb"> <p class="absolute bottom-0 route-thumb-text bg-base-200 rounded-lg"> </p></a></div>');function ae(r,e){_(e,!0);let t=b.getRouteByID(e.id);var a=A(),i=T(a);{var l=o=>{var n=re(),s=u(n),v=u(s),g=f(v,2),y=u(g,!0);c(g),c(s),c(n),D(()=>{p(s,"href",`./viewer/${e.id??""}`),p(v,"src",`https://bursur.github.io/${t.image??""}`),z(y,t.name)}),d(o,n)};O(i,o=>{t&&o(l)})}d(r,a),w()}var oe=m('<h1 class="title-text">SpiraGPS</h1> <p class="version-text">(v2.0.0)</p>',1);function ie(r){var e=oe();h(2),d(r,e)}var L=x(()=>S),se=m('<!> <div class="landing-grid"><div class="grid grid-cols-3 gap-4"><!> <!> <!> <!></div></div>',1);function be(r,e){_(e,!1),L(L().enabled=!1),R();var t=se(),a=T(t);ie(a);var i=f(a,2),l=u(i),o=u(l);E(o,1,()=>b.routes,j,(g,y)=>{ae(g,{get id(){return $(y).id}})});var n=f(o,2);te(n,{});var s=f(n,2);K(s);var v=f(s,2);J(v,{}),c(l),c(i),d(r,t),w()}export{be as component,ge as universal};
